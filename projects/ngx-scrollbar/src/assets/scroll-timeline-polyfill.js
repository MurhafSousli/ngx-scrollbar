var __defProp=Object.defineProperty,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField=(e,t,n)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,n),n);!function(){"use strict";class e{}class t extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class n extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class i extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class r extends e{constructor(e,t="unrestricted"){super(),__publicField(this,"type"),__publicField(this,"value"),this.value=e,this.type=t}}class o extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class a extends e{}class s extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class l extends e{}class u extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class c extends e{constructor(e,t="integer"){super(),__publicField(this,"value"),__publicField(this,"type"),this.value=e,this.type=t}}class f extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class m extends e{constructor(e,t,n){super(),__publicField(this,"value"),__publicField(this,"type"),__publicField(this,"unit"),this.value=e,this.type=t,this.unit=n}}class d extends e{}class p extends e{}class h extends e{}class S extends e{}class g extends e{}class v extends e{}class y extends e{}class T extends e{}class w extends e{}class C extends e{}class b extends e{}class x extends e{}class k{constructor(e){__publicField(this,"input"),__publicField(this,"index",0),this.input=e}consume(){const e=this.input.codePointAt(this.index);return void 0!==e&&(this.index+=String.fromCodePoint(e).length),e}reconsume(e){void 0!==e&&(this.index-=String.fromCodePoint(e).length)}peek(){const e=[];let t=this.index;for(let n=0;n<3&&t<this.input.length;n++){const n=this.input.codePointAt(t);e.push(n),t+=String.fromCodePoint(n).length}return e}}function P(e){return 10===e}function M(e){return P(e)||8192===e||32===e}function E(e){return e>=48&&e<=57}function R(e){return E(e)||e>=65&&e<=70||e>=97&&e<=102}function V(e){return function(e){return function(e){return e>=65&&e<=90}(e)||function(e){return e>=97&&e<=122}(e)}(e)||function(e){return e>=128}(e)||95===e}function U(e){return V(e)||E(e)||45===e}function _(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e}function A(e,t){return 92===e&&!P(t)}function I(e,t,n){return 45===e?V(t)||45===t||A(t,n):!!V(e)||92===e&&A(e,t)}function N(e,t,n){return 43===e||45===e?E(t)||46===t&&E(n):E(46===e?t:e)}function F(e){const t=e.consume();if(R(t)){let n=[t];for(;R(...e.peek())&&n.length<5;)n.push(e.consume());M(...e.peek())&&e.consume();const i=parseInt(String.fromCodePoint(...n),16);return 0===i||i>1114111?65533:i}return void 0===t?65533:t}function j(e,t){const n=new o("");for(;;){const i=e.consume();if(i===t)return n;if(void 0===i)return n;if(10===i)return e.reconsume(i),new a;if(92===i){const t=e.peek()[0];void 0===t||(P(t)?e.consume():n.value+=String.fromCodePoint(F(e)))}else n.value+=String.fromCodePoint(i)}}function z(e){let t="";for(;;){const n=e.consume();if(U(n))t+=String.fromCodePoint(n);else{if(!A(...e.peek()))return e.reconsume(n),t;t+=String.fromCodePoint(F(e))}}}function L(e){let t=function(e){let t="integer",n="";for([43,45].includes(e.peek()[0])&&(n+=String.fromCodePoint(e.consume()));E(...e.peek());)n+=String.fromCodePoint(e.consume());if(46===e.peek()[0]&&E(e.peek()[1]))for(n+=String.fromCodePoint(e.consume(),e.consume()),t="number";E(...e.peek());)n+=String.fromCodePoint(e.consume());return[69,101].includes(e.peek()[0])&&([45,43].includes(e.peek()[1])&&E(e.peek()[2])?(n+=String.fromCodePoint(e.consume(),e.consume(),e.consume()),t="number"):E(e.peek()[1])&&(n+=String.fromCodePoint(e.consume(),e.consume()),t="number")),{value:parseFloat(n),type:t}}(e);return I(...e.peek())?new m(t.value,t.type,z(e)):37===e.peek()[0]?(e.consume(),new f(t.value)):new c(t.value,t.type)}function O(e){for(;;){const t=e.consume();if(41===t||void 0===t)return;A(...e.peek())&&F(e)}}function D(e){const i=z(e);if(i.match(/url/i)&&40===e.peek()[0]){for(e.consume();M(e.peek()[0])&&M(e.peek()[1]);)e.consume();return[34,39].includes(e.peek()[0])||M(e.peek()[0])&&[34,39].includes(e.peek()[1])?new n(i):function(e){const t=new s("");for(;M(...e.peek());)e.consume();for(;;){const n=e.consume();if(41===n)return t;if(void 0===n)return t;if(M(n)){for(;M(...e.peek());)e.consume();return 41===e.peek()[0]||void 0===e.peek()[0]?(e.consume(),t):(O(e),new l)}if([34,39,40].includes(n)||_(n))return O(e),new l;if(92===n){if(!A(...e.peek()))return O(e),new l;t.value+=F(e)}else t.value+=String.fromCodePoint(n)}}(e)}return 40===e.peek()[0]?(e.consume(),new n(i)):new t(i)}function W(e){const t=e.consume(),n=e.peek();if(M(t)){for(;M(...e.peek());)e.consume();return new d}if(34===t)return j(e,t);if(35===t){if(U(n[0])||A(...n)){const t=new r;return I(...n)&&(t.type="id"),t.value=z(e),t}return new u(String.fromCodePoint(t))}return 39===t?j(e,t):40===t?new w:41===t?new C:43===t?N(...n)?(e.reconsume(t),L(e)):new u(String.fromCodePoint(t)):44===t?new v:45===t?N(...e.peek())?(e.reconsume(t),L(e)):45===e.peek()[0]&&62===e.peek()[1]?(e.consume(),e.consume(),new h):I(...e.peek())?(e.reconsume(t),D(e)):new u(String.fromCodePoint(t)):46===t?N(...e.peek())?(e.reconsume(t),L(e)):new u(String.fromCodePoint(t)):58===t?new S:59===t?new g:60===t?33===n[0]&&45===n[1]&&45===n[2]?(e.consume(),e.consume(),e.consume(),new p):new u(String.fromCodePoint(t)):64===t?I(...n)?new i(z(e)):new u(String.fromCodePoint(t)):91===t?new y:92===t?A(...n)?(e.reconsume(t),D(e)):new u(String.fromCodePoint(t)):93===t?new T:123===t?new b:125===t?new x:E(t)?(e.reconsume(t),L(e)):V(t)?(e.reconsume(t),D(e)):void 0===t?void 0:new u(String.fromCodePoint(t))}const H=new Set(["px","deg","s","hz","dppx","number","fr"]);function q(e){return H.has(e.toLowerCase())}function $(e,t){if(["x","y"].includes(e))return e;if(!t)throw new Error("To determine the normalized axis the computedStyle of the source is required.");const n="horizontal-tb"==t.writingMode;if("block"===e)e=n?"y":"x";else{if("inline"!==e)throw new TypeError(`Invalid axis “${e}”`);e=n?"x":"y"}return e}function B(e){const t=[];let n=0;function i(){let t=0;const i=n;for(;n<e.length;){const i=e.slice(n,n+1);if(/\s/.test(i)&&0===t)break;if("("===i)t+=1;else if(")"===i&&(t-=1,0===t)){n++;break}n++}return e.slice(i,n)}function r(){for(;/\s/.test(e.slice(n,n+1));)n++}for(;n<e.length;){const o=e.slice(n,n+1);/\s/.test(o)?r():t.push(i())}return t}function Q(e,t){return e.reduce(((e,n)=>(e.has(n[t])?e.get(n[t]).push(n):e.set(n[t],[n]),e)),new Map)}function G(e,t){const n=[],i=[];for(const r of e)t(r)?n.push(r):i.push(r);return[n,i]}function K(e,t={}){function n(e){return Array.from(e).map((e=>K(e,t)))}if(e instanceof CSSUnitValue){if("percent"===e.unit&&t.percentageReference){const n=e.value/100*t.percentageReference.value,i=t.percentageReference.unit;return new CSSUnitValue(n,i)}const n=e.toSum();if(n&&1===n.values.length&&(e=n.values[0]),e instanceof CSSUnitValue&&"em"===e.unit&&t.fontSize&&(e=new CSSUnitValue(e.value*t.fontSize.value,t.fontSize.unit)),e instanceof CSSKeywordValue){if("e"===e.value)return new CSSUnitValue(Math.E,"number");if("pi"===e.value)return new CSSUnitValue(Math.PI,"number")}return e}if(!e.operator)return e;switch(e.operator){case"sum":e=new CSSMathSum(...n(e.values));break;case"product":e=new CSSMathProduct(...n(e.values));break;case"negate":e=new CSSMathNegate(K(e.value,t));break;case"clamp":e=new CSSMathClamp(K(e.lower,t),K(e.value,t),K(e.upper,t));break;case"invert":e=new CSSMathInvert(K(e.value,t));break;case"min":e=new CSSMathMin(...n(e.values));break;case"max":e=new CSSMathMax(...n(e.values))}if(e instanceof CSSMathMin||e instanceof CSSMathMax){const t=Array.from(e.values);if(t.every((e=>e instanceof CSSUnitValue&&"percent"!==e.unit&&q(e.unit)&&e.unit===t[0].unit))){const n=Math[e.operator].apply(Math,t.map((({value:e})=>e)));return new CSSUnitValue(n,t[0].unit)}}if(e instanceof CSSMathMin||e instanceof CSSMathMax){const t=Array.from(e.values),[n,i]=G(t,(e=>e instanceof CSSUnitValue&&"percent"!==e.unit)),r=Array.from(Q(n,"unit").values());if(r.some((e=>e.length>0))){const t=r.map((t=>{const n=Math[e.operator].apply(Math,t.map((({value:e})=>e)));return new CSSUnitValue(n,t[0].unit)}));e=e instanceof CSSMathMin?new CSSMathMin(...t,...i):new CSSMathMax(...t,...i)}return 1===t.length?t[0]:e}if(e instanceof CSSMathNegate)return e.value instanceof CSSUnitValue?new CSSUnitValue(0-e.value.value,e.value.unit):e.value instanceof CSSMathNegate?e.value.value:e;if(e instanceof CSSMathInvert)return e.value instanceof CSSMathInvert?e.value.value:e;if(e instanceof CSSMathSum){let t=function(e){const t=e.filter((e=>e instanceof CSSUnitValue));return[...e.filter((e=>!(e instanceof CSSUnitValue))),...Array.from(Q(t,"unit").entries()).map((([e,t])=>{const n=t.reduce(((e,{value:t})=>e+t),0);return new CSSUnitValue(n,e)}))]},n=[];for(const i of e.values)i instanceof CSSMathSum?n.push(...i.values):n.push(i);return n=t(n),1===n.length?n[0]:new CSSMathSum(...n)}if(e instanceof CSSMathProduct){let t=[];for(const r of e.values)r instanceof CSSMathProduct?t.push(...r.values):t.push(r);const[n,i]=G(t,(e=>e instanceof CSSUnitValue&&"number"===e.unit));if(n.length>1){const e=n.reduce(((e,{value:t})=>e*t),1);t=[new CSSUnitValue(e,"number"),...i]}if(2===t.length){let e,n;for(const i of t)i instanceof CSSUnitValue&&"number"===i.unit?e=i:i instanceof CSSMathSum&&[...i.values].every((e=>e instanceof CSSUnitValue))&&(n=i);if(e&&n)return new CSSMathSum(...[...n.values].map((t=>new CSSUnitValue(t.value*e.value,t.unit))))}if(t.every((e=>e instanceof CSSUnitValue&&q(e.unit)||e instanceof CSSMathInvert&&e.value instanceof CSSUnitValue&&q(e.value.unit)))){const e=new CSSMathProduct(...t).toSum();if(e&&1===e.values.length)return e.values[0]}return new CSSMathProduct(...t)}return e}const J=null,X=["percent","length","angle","time","frequency","resolution","flex"],Y={fontRelativeLengths:{units:new Set(["em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh"])},viewportRelativeLengths:{units:new Set(["vw","lvw","svw","dvw","vh","lvh","svh","dvh","vi","lvi","svi","dvi","vb","lvb","svb","dvb","vmin","lvmin","svmin","dvmin","vmax","lvmax","svmax","dvmax"])},absoluteLengths:{units:new Set(["cm","mm","Q","in","pt","pc","px"]),compatible:!0,canonicalUnit:"px",ratios:{cm:96/2.54,mm:96/2.54/10,Q:96/2.54/40,in:96,pc:16,pt:96/72,px:1}},angle:{units:new Set(["deg","grad","rad","turn"]),compatible:!0,canonicalUnit:"deg",ratios:{deg:1,grad:.9,rad:180/Math.PI,turn:360}},time:{units:new Set(["s","ms"]),compatible:!0,canonicalUnit:"s",ratios:{s:1,ms:.001}},frequency:{units:new Set(["hz","khz"]),compatible:!0,canonicalUnit:"hz",ratios:{hz:1,khz:1e3}},resolution:{units:new Set(["dpi","dpcm","dppx"]),compatible:!0,canonicalUnit:"dppx",ratios:{dpi:1/96,dpcm:2.54/96,dppx:1}}},Z=new Map;for(const bt of Object.values(Y))if(bt.compatible)for(const e of bt.units)Z.set(e,bt);function ee(e){return Z.get(e)}function te(e,t){const n={...e};for(const i of Object.keys(t))n[i]?n[i]+=t[i]:n[i]=t[i];return n}function ne(e){return"number"===e?{}:"percent"===e?{percent:1}:Y.absoluteLengths.units.has(e)||Y.fontRelativeLengths.units.has(e)||Y.viewportRelativeLengths.units.has(e)?{length:1}:Y.angle.units.has(e)?{angle:1}:Y.time.units.has(e)?{time:1}:Y.frequency.units.has(e)?{frequency:1}:Y.resolution.units.has(e)?{resolution:1}:"fr"===e?{flex:1}:J}function ie(e){if(e instanceof CSSUnitValue){let{unit:t,value:n}=e;const i=ee(e.unit);return i&&t!==i.canonicalUnit&&(n*=i.ratios[t],t=i.canonicalUnit),"number"===t?[[n,{}]]:[[n,{[t]:1}]]}if(e instanceof CSSMathInvert){if(!(e.value instanceof CSSUnitValue))throw new Error("Not implemented");const t=ie(e.value);if(t===J)return J;if(t.length>1)return J;const n=t[0],i={};for(const[e,r]of Object.entries(n[1]))i[e]=-1*r;return t[0]=[1/n[0],i],t}if(e instanceof CSSMathProduct){let t=[[1,{}]];for(const n of e.values){const e=ie(n),i=[];if(e===J)return J;for(const n of t)for(const t of e)i.push([n[0]*t[0],te(n[1],t[1])]);t=i}return t}throw new Error("Not implemented")}function re(e,t){if(ne(t)===J)throw new SyntaxError("The string did not match the expected pattern.");const n=ie(e);if(!n)throw new TypeError;if(n.length>1)throw new TypeError("Sum has more than one item");const i=function(e,t){const n=e.unit,i=e.value,r=ee(n),o=ee(t);if(!o||r!==o)return J;return new CSSUnitValue(i*o.ratios[n]/o.ratios[t],t)}(oe(n[0]),t);if(i===J)throw new TypeError;return i}function oe(e){const[t,n]=e,i=Object.entries(n);if(i.length>1)return J;if(0===i.length)return new CSSUnitValue(t,"number");const r=i[0];return 1!==r[1]?J:new CSSUnitValue(t,r[0])}function ae(e,...t){if(t&&t.length)throw new Error("Not implemented");const n=ie(e).map((e=>oe(e)));if(n.some((e=>e===J)))throw new TypeError("Type error");return new CSSMathSum(...n)}function se(e,t){if(e.percentHint&&t.percentHint&&e.percentHint!==t.percentHint)return J;const n={...e,percentHint:e.percentHint??t.percentHint};for(const i of X)t[i]&&(n[i]??(n[i]=0),n[i]+=t[i]);return n}class CSSFunction{constructor(e,t){__publicField(this,"name"),__publicField(this,"values"),this.name=e,this.values=t}}class CSSSimpleBlock{constructor(e,t){__publicField(this,"value"),__publicField(this,"associatedToken"),this.value=e,this.associatedToken=t}}function le(e){if(Array.isArray(e))return e;if("string"==typeof e)return function(e){const t=new k(e),n=[];for(;;){const e=W(t);if(void 0===e)return n;n.push(e)}}(e);throw new TypeError("Invalid input type "+typeof e)}function ue(e){const t=e.shift();return t instanceof b||t instanceof y||t instanceof w?function(e,t){let n;if(t instanceof b)n=x;else if(t instanceof w)n=C;else{if(!(t instanceof y))return;n=T}const i=new CSSSimpleBlock([],t);for(;;){const t=e.shift();if(t instanceof n)return i;if(void 0===t)return i;e.unshift(t),i.value.push(ue(e))}}(e,t):t instanceof n?function(e,t){const n=new CSSFunction(e.value,[]);for(;;){const e=t.shift();if(e instanceof C)return n;if(void 0===e)return n;t.unshift(e),n.values.push(ue(t))}}(t,e):t}function ce(e){if(e instanceof w||e instanceof C)return 6;if(e instanceof u){switch(e.value){case"*":case"/":return 4;case"+":case"-":return 2}}}function fe(e){return e[e.length-1]}function me(e,t,n){const i=["+","-"].includes(e.value)?"ADDITION":"MULTIPLICATION",r=t.type===i?t.values:[t],o=n.type===i?n.values:[n];return"-"===e.value?o[0]={type:"NEGATE",value:o[0]}:"/"===e.value&&(o[0]={type:"INVERT",value:o[0]}),{type:i,values:[...r,...o]}}function de(e){if("ADDITION"===e.type)return new CSSMathSum(...e.values.map((e=>de(e))));if("MULTIPLICATION"===e.type)return new CSSMathProduct(...e.values.map((e=>de(e))));if("NEGATE"===e.type)return new CSSMathNegate(de(e.value));if("INVERT"===e.type)return new CSSMathInvert(de(e.value));if(e instanceof CSSSimpleBlock)return pe(new CSSFunction("calc",e.value));if(e instanceof t){if("e"===e.value)return new CSSUnitValue(Math.E,"number");if("pi"===e.value)return new CSSUnitValue(Math.PI,"number");throw new SyntaxError("Invalid math expression")}return he(e)}function pe(e){if("min"===e.name||"max"===e.name){const t=e.values.filter((e=>!(e instanceof d||e instanceof v))).map((e=>K(pe(new CSSFunction("calc",e)))));return"min"===e.name?new CSSMathMin(...t):new CSSMathMax(...t)}if("calc"!==e.name)return null;const n=de(function(e){const n=[],i=[];for(;e.length;){const r=e.shift();if(r instanceof c||r instanceof m||r instanceof f||r instanceof CSSFunction||r instanceof CSSSimpleBlock||r instanceof t)i.push(r);else if(r instanceof u&&["*","/","+","-"].includes(r.value)){for(;n.length&&!(fe(n)instanceof w)&&ce(fe(n))>ce(r);){const e=n.pop(),t=i.pop(),r=i.pop();i.push(me(e,r,t))}n.push(r)}else if(r instanceof w)n.push(r);else if(r instanceof C){if(!n.length)return null;for(;!(fe(n)instanceof w);){const e=n.pop(),t=i.pop(),r=i.pop();i.push(me(e,r,t))}if(!(fe(n)instanceof w))return null;n.pop()}else if(!(r instanceof d))return null}for(;n.length;){if(fe(n)instanceof w)return null;const e=n.pop(),t=i.pop(),r=i.pop();i.push(me(e,r,t))}return i[0]}([...e.values]));let i;try{i=K(n)}catch(r){(new CSSStyleSheet).insertRule("error",0)}return i instanceof CSSUnitValue?new CSSMathSum(i):i}function he(e){return e instanceof CSSFunction&&["calc","min","max","clamp"].includes(e.name)?pe(e):e instanceof c&&0===e.value&&!e.unit?new CSSUnitValue(0,"px"):e instanceof c?new CSSUnitValue(e.value,"number"):e instanceof f?new CSSUnitValue(e.value,"percent"):e instanceof m?new CSSUnitValue(e.value,e.unit):void 0}function Se(e){const t=function(e){const t=le(e);for(;t[0]instanceof d;)t.shift();if(void 0===t[0])return null;const n=ue(t);for(;t[0]instanceof d;)t.shift();return void 0===t[0]?n:null}(e);if(null===t&&(new CSSStyleSheet).insertRule("error",0),t instanceof c||t instanceof f||t instanceof m||t instanceof CSSFunction||(new CSSStyleSheet).insertRule("error",0),t instanceof m){null===ne(t.unit)&&(new CSSStyleSheet).insertRule("error",0)}return he(t)}!function(){let e=new WeakMap;function t(e){const t=[];for(let i=0;i<e.length;i++)t[i]="number"==typeof(n=e[i])?new CSSUnitValue(n,"number"):n;var n;return t}class CSSNumericValue2{static parse(e){return e instanceof CSSNumericValue2?e:K(Se(e),{})}}class CSSMathValue extends CSSNumericValue2{constructor(n,i,r,o){super(),e.set(this,{values:t(n),operator:i,name:r||i,delimiter:o||", "})}get operator(){return e.get(this).operator}get values(){return e.get(this).values}toString(){const t=e.get(this);return`${t.name}(${t.values.join(t.delimiter)})`}}const n={CSSNumericValue:CSSNumericValue2,CSSMathValue:CSSMathValue,CSSUnitValue:class extends CSSNumericValue2{constructor(t,n){super(),e.set(this,{value:t,unit:n})}get value(){return e.get(this).value}set value(t){e.get(this).value=t}get unit(){return e.get(this).unit}to(e){return re(this,e)}toSum(...e){return ae(this,...e)}type(){return ne(e.get(this).unit)}toString(){const t=e.get(this);return`${t.value}${function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(t.unit)}`}},CSSKeywordValue:class{constructor(e){this.value=e}toString(){return this.value.toString()}},CSSMathSum:class extends CSSMathValue{constructor(e){super(arguments,"sum","calc"," + ")}},CSSMathProduct:class extends CSSMathValue{constructor(e){super(arguments,"product","calc"," * ")}toSum(...e){return ae(this,...e)}type(){return e.get(this).values.map((e=>e.type())).reduce(se)}},CSSMathNegate:class extends CSSMathValue{constructor(e){super([arguments[0]],"negate","-")}get value(){return e.get(this).values[0]}type(){return this.value.type()}},CSSMathInvert:class extends CSSMathValue{constructor(e){super([1,arguments[0]],"invert","calc"," / ")}get value(){return e.get(this).values[1]}type(){return function(e){const t={};for(const n of X)t[n]=-1*e[n];return t}(e.get(this).values[1].type())}},CSSMathMax:class extends CSSMathValue{constructor(){super(arguments,"max")}},CSSMathMin:class extends CSSMathValue{constructor(){super(arguments,"min")}}};if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach((e=>{if(!Reflect.defineProperty(CSS,e,{value:t=>new CSSUnitValue(t,e)}))throw Error(`Error installing CSS.${e}`)}));for(let[i,r]of Object.entries(n))if(!(i in window)&&!Reflect.defineProperty(window,i,{value:r}))throw Error(`Error installing CSSOM support for ${i}`)}();const ge="block";let ve=new WeakMap,ye=new WeakMap;const Te=["entry","exit","cover","contain","entry-crossing","exit-crossing"];function we(e){return e===document.scrollingElement?document:e}function Ce(e){ke(e);let t=ve.get(e).animations;if(0===t.length)return;let n=e.currentTime;for(let i=0;i<t.length;i++)t[i].tickAnimation(n)}function be(e,t){if(!e)return null;const n=ye.get(e).sourceMeasurements,i=getComputedStyle(e);let r=n.scrollTop;return"x"===$(t,i)&&(r=Math.abs(n.scrollLeft)),r}function xe(e,t){const n=K(e,t);if(n instanceof CSSUnitValue){if("px"===n.unit)return n.value;throw TypeError("Unhandled unit type "+n.unit)}throw TypeError("Unsupported value type: "+typeof e)}function ke(e){if(!(e instanceof De))return void function(e){const t=ve.get(e);if(!t.anonymousSource)return;const n=function(e,t){switch(e){case"root":return document.scrollingElement;case"nearest":return ze(t);case"self":return t;default:throw new TypeError("Invalid ScrollTimeline Source Type.")}}(t.anonymousSource,t.anonymousTarget);Ve(e,n)}(e);const t=e.subject;if(!t)return void Ve(e,null);if("none"==getComputedStyle(t).display)return void Ve(e,null);Ve(e,ze(t))}function Pe(e){return["block","inline","x","y"].includes(e)}function Me(e){const t=getComputedStyle(e);return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,writingMode:t.writingMode,direction:t.direction,scrollPaddingTop:t.scrollPaddingTop,scrollPaddingBottom:t.scrollPaddingBottom,scrollPaddingLeft:t.scrollPaddingLeft,scrollPaddingRight:t.scrollPaddingRight}}function Ee(e,t){if(!e||!t)return;let n=0,i=0,r=t;const o=e.offsetParent;for(;r&&r!=o;)i+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent;i-=e.offsetLeft+e.clientLeft,n-=e.offsetTop+e.clientTop;const a=getComputedStyle(t);return{top:n,left:i,offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight,fontSize:a.fontSize}}function Re(e){let t=ye.get(e);t.sourceMeasurements=Me(e);for(const n of t.timelineRefs){const t=n.deref();if(t instanceof De){ve.get(t).subjectMeasurements=Ee(e,t.subject)}}t.updateScheduled||(setTimeout((()=>{for(const e of t.timelineRefs){const t=e.deref();t&&Ce(t)}t.updateScheduled=!1})),t.updateScheduled=!0)}function Ve(e,t){const n=ve.get(e),i=n.source;if(i!=t){if(i){const t=ye.get(i);if(t){t.timelineRefs.delete(e);const n=Array.from(t.timelineRefs).filter((e=>void 0===e.deref()));for(const e of n)t.timelineRefs.delete(e);0===t.timelineRefs.size&&(t.disconnect(),ye.delete(i))}}if(n.source=t,t){let i=ye.get(t);if(!i){i={timelineRefs:new Set,sourceMeasurements:Me(t)},ye.set(t,i);const e=new ResizeObserver((e=>{for(const t of e)Re(n.source)}));e.observe(t);for(const n of t.children)e.observe(n);const r=new MutationObserver((e=>{for(const t of e)Re(t.target)}));r.observe(t,{attributes:!0,attributeFilter:["style","class"]});const o=()=>{i.sourceMeasurements.scrollLeft=t.scrollLeft,i.sourceMeasurements.scrollTop=t.scrollTop;for(const e of i.timelineRefs){const t=e.deref();t&&Ce(t)}};we(t).addEventListener("scroll",o),i.disconnect=()=>{e.disconnect(),r.disconnect(),we(t).removeEventListener("scroll",o)}}i.timelineRefs.add(new WeakRef(e))}}}function Ue(e,t){let n=ve.get(e).animations;for(let i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function _e(e,t,n){let i=ve.get(e).animations;for(let r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),queueMicrotask((()=>{Ce(e)}))}class ScrollTimeline{constructor(e){ve.set(this,{source:null,axis:ge,anonymousSource:e?e.anonymousSource:null,anonymousTarget:e?e.anonymousTarget:null,subject:null,inset:null,animations:[],subjectMeasurements:null});if(Ve(this,e&&void 0!==e.source?e.source:document.scrollingElement),e&&void 0!==e.axis&&e.axis!=ge){if(!Pe(e.axis))throw TypeError("Invalid axis");ve.get(this).axis=e.axis}Ce(this)}set source(e){Ve(this,e),Ce(this)}get source(){return ve.get(this).source}set axis(e){if(!Pe(e))throw TypeError("Invalid axis");ve.get(this).axis=e,Ce(this)}get axis(){return ve.get(this).axis}get duration(){return CSS.percent(100)}get phase(){const e=this.source;if(!e)return"inactive";let t=getComputedStyle(e);return"none"==t.display?"inactive":e==document.scrollingElement||"visible"!=t.overflow&&"clip"!=t.overflow?"active":"inactive"}get currentTime(){const e=null,t=this.source;if(!t||!t.isConnected)return e;if("inactive"==this.phase)return e;const n=getComputedStyle(t);if("inline"===n.display||"none"===n.display)return e;const i=this.axis,r=be(t,i),o=function(e,t){const n=ye.get(e).sourceMeasurements,i="horizontal-tb"==getComputedStyle(e).writingMode;return"block"===t?t=i?"y":"x":"inline"===t&&(t=i?"x":"y"),"y"===t?n.scrollHeight-n.clientHeight:"x"===t?n.scrollWidth-n.clientWidth:void 0}(t,i);return o>0?CSS.percent(100*r/o):CSS.percent(100)}get __polyfill(){return!0}}function Ae(e,t){let n=e.parentElement;for(;null!=n;){if(t(n))return n;n=n.parentElement}}function Ie(e){switch(getComputedStyle(e).display){case"block":case"inline-block":case"list-item":case"table":case"table-caption":case"flow-root":case"flex":case"grid":return!0}return!1}function Ne(e){const t=getComputedStyle(e);return"none"!=t.transform||"none"!=t.perspective||("transform"==t.willChange||"perspective"==t.willChange||("none"!=t.filter||"filter"==t.willChange||"none"!=t.backdropFilter))}function Fe(e){return"static"!=getComputedStyle(e).position||Ne(e)}function je(e){switch(getComputedStyle(e).position){case"static":case"relative":case"sticky":return Ae(e,Ie);case"absolute":return Ae(e,Fe);case"fixed":return Ae(e,Ne)}}function ze(e){if(e&&e.isConnected){for(;e=je(e);){switch(getComputedStyle(e)["overflow-x"]){case"auto":case"scroll":case"hidden":return e==document.body&&"visible"==getComputedStyle(document.scrollingElement).overflow?document.scrollingElement:e}}return document.scrollingElement}}function Le(e,t){const n=ve.get(e),i=n.subjectMeasurements,r=ye.get(n.source).sourceMeasurements;return"inactive"===e.phase?null:e instanceof De?function(e,t,n,i,r){const o="rtl"==t.direction||"vertical-rl"==t.writingMode;let a,s,l={fontSize:n.fontSize};"x"===$(i,t)?(a=n.offsetWidth,s=n.left,l.scrollPadding=[t.scrollPaddingLeft,t.scrollPaddingRight],o&&(s+=t.scrollWidth-t.clientWidth,l.scrollPadding=[t.scrollPaddingRight,t.scrollPaddingLeft]),l.containerSize=t.clientWidth):(a=n.offsetHeight,s=n.top,l.scrollPadding=[t.scrollPaddingTop,t.scrollPaddingBottom],l.containerSize=t.clientHeight);const u=function(e,t){const n={start:0,end:0};if(!e)return n;const[i,r]=[e.start,e.end].map(((e,n)=>"auto"===e?"auto"===t.scrollPadding[n]?0:parseFloat(t.scrollPadding[n]):xe(e,{percentageReference:CSS.px(t.containerSize),fontSize:CSS.px(parseFloat(t.fontSize))})));return{start:i,end:r}}(r,l),c=s-l.containerSize+u.end,f=s+a-u.start,m=c+a,d=f-a,p=Math.min(m,d),h=Math.max(m,d);let S,g;const v=l.containerSize-u.start-u.end,y=a>v;switch(e){case"cover":S=c,g=f;break;case"contain":S=p,g=h;break;case"entry":S=c,g=p;break;case"exit":S=h,g=f;break;case"entry-crossing":S=c,g=y?h:p;break;case"exit-crossing":S=y?p:h,g=f}return{start:S,end:g}}(t,r,i,n.axis,n.inset):null}function Oe(e,t){if(e instanceof De){const{rangeName:n,offset:i}=t;return function(e,t,n,i){if(!e||!n)return 0;let r=getComputedStyle(i);const o={percentageReference:CSS.px(e.end-e.start),fontSize:CSS.px(parseFloat(r.fontSize))},a=xe(t,o)+e.start;return(a-n.start)/(n.end-n.start)}(Le(e,n),i,Le(e,"cover"),e.subject)}if(e instanceof ScrollTimeline){const{axis:n,source:i}=e,{sourceMeasurements:r}=ye.get(i);let o;o="x"===$(n,r)?r.scrollWidth-r.clientWidth:r.scrollHeight-r.clientHeight;return xe(t,{percentageReference:CSS.px(o)})/o}unsupportedTimeline(e)}let De=class ViewTimeline extends ScrollTimeline{constructor(e){super(e);const t=ve.get(this);if(t.subject=e&&e.subject?e.subject:void 0,e&&e.inset&&(t.inset=function(e){if(!e)return{start:0,end:0};let t;if(t="string"==typeof e?B(e).map((t=>{if("auto"===t)return"auto";try{return CSSNumericValue.parse(t)}catch(n){throw TypeError(`Could not parse inset "${e}"`)}})):Array.isArray(e)?e:[e],0===t.length||t.length>2)throw TypeError("Invalid inset");for(const n of t){if("auto"===n)continue;const e=n.type();if(1!==e.length&&1!==e.percent)throw TypeError("Invalid inset")}return{start:t[0],end:t[1]??t[0]}}(e.inset)),t.subject){new ResizeObserver((()=>{Re(t.source)})).observe(t.subject);new MutationObserver((()=>{Re(t.source)})).observe(t.subject,{attributes:!0,attributeFilter:["class","style"]})}ke(this),t.subjectMeasurements=Ee(t.source,t.subject),Ce(this)}get source(){return ke(this),ve.get(this).source}set source(e){throw new Error("Cannot set the source of a view timeline")}get subject(){return ve.get(this).subject}get axis(){return ve.get(this).axis}get currentTime(){const e=null,t=be(this.source,this.axis);if(t==e)return e;const n=Le(this,"cover");if(!n)return e;const i=(t-n.start)/(n.end-n.start);return CSS.percent(100*i)}get startOffset(){return CSS.px(Le(this,"cover").start)}get endOffset(){return CSS.px(Le(this,"cover").end)}};const We=document.getAnimations,He=window.Element.prototype.getAnimations,qe=window.Element.prototype.animate,$e=window.Animation;class Be{constructor(){this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(((e,t)=>{this.nativeResolve=e,this.nativeReject=t}))}resolve(e){this.state="resolved",this.nativeResolve(e)}reject(e){this.state="rejected",this.promise.catch((()=>{})),this.nativeReject(e)}}function Qe(e){e.readyPromise=new Be,requestAnimationFrame((()=>{var t;null!==((null==(t=e.timeline)?void 0:t.currentTime)??null)&&(mt(e),"play"!==e.pendingTask||null===e.startTime&&null===e.holdTime?"pause"===e.pendingTask&&Ye(e):Xe(e))}))}function Ge(){return new DOMException("The user aborted a request","AbortError")}function Ke(e,t){if(null===t)return t;if("number"!=typeof t)throw new DOMException(`Unexpected value: ${t}.  Cannot convert to CssNumberish`,"InvalidStateError");const n=e.rangeDuration??100,i=rt(e),r=i?n*t/i:0;return CSS.percent(r)}function Je(e,t){if(e.timeline){if(null===t)return t;if("percent"===t.unit){const n=e.rangeDuration??100,i=rt(e);return t.value*i/n}throw new DOMException("CSSNumericValue must be a percentage for progress based animations.","NotSupportedError")}{if(null==t||"number"==typeof t)return t;const e=t.to("ms");if(e)return e.value;throw new DOMException("CSSNumericValue must be either a number or a time value for time based animations.","InvalidStateError")}}function Xe(e){const t=Je(e,e.timeline.currentTime);if(null!=e.holdTime)tt(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){const n=(t-e.startTime)*e.animation.playbackRate;tt(e);const i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),it(e,!1,!1),ot(e),e.pendingTask=null}function Ye(e){const t=Je(e,e.timeline.currentTime);null!=e.startTime&&null==e.holdTime&&(e.holdTime=(t-e.startTime)*e.animation.playbackRate),tt(e),e.startTime=null,e.readyPromise.resolve(e.proxy),it(e,!1,!1),ot(e),e.pendingTask=null}function Ze(e){if(!e.finishedPromise||"pending"!=e.finishedPromise.state)return;if("finished"!=e.proxy.playState)return;e.finishedPromise.resolve(e.proxy),e.animation.pause();const t=new CustomEvent("finish",{detail:{currentTime:e.proxy.currentTime,timelineTime:e.proxy.timeline.currentTime}});Object.defineProperty(t,"currentTime",{get:function(){return this.detail.currentTime}}),Object.defineProperty(t,"timelineTime",{get:function(){return this.detail.timelineTime}}),requestAnimationFrame((()=>{queueMicrotask((()=>{e.animation.dispatchEvent(t)}))}))}function et(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function tt(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function nt(e){if(!e.timeline)return null;const t=Je(e,e.timeline.currentTime);if(null===t)return null;if(null===e.startTime)return null;let n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function it(e,t,n){if(!e.timeline)return;let i=t?Je(e,e.proxy.currentTime):nt(e);if(i&&null!=e.startTime&&!e.proxy.pending){const n=et(e),r=rt(e);let o=e.previousCurrentTime;n>0&&i>=r&&null!=e.previousCurrentTime?((null===o||o<r)&&(o=r),e.holdTime=t?i:o):n<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=n&&(t&&null!==e.holdTime&&(e.startTime=function(e,t){if(!e.timeline)return null;const n=Je(e,e.timeline.currentTime);return null==n?null:n-t/e.animation.playbackRate}(e,e.holdTime)),e.holdTime=null)}ot(e),e.previousCurrentTime=Je(e,e.proxy.currentTime);"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new Be),"pending"==e.finishedPromise.state&&(n?Ze(e):Promise.resolve().then((()=>{Ze(e)})))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new Be),"paused"!=e.animation.playState&&e.animation.pause())}function rt(e){const t=function(e){const t=e.proxy.effect.getTiming();return e.normalizedTiming||t}(e),n=t.delay+t.endDelay+t.iterations*t.duration;return Math.max(0,n)}function ot(e){if(e.timeline)if(null!==e.startTime){const t=e.timeline.currentTime;if(null==t)return;at(e,(Je(e,t)-e.startTime)*e.animation.playbackRate)}else null!==e.holdTime&&at(e,e.holdTime)}function at(e,t){const n=e.timeline,i=e.animation.playbackRate,r=n.currentTime&&n.currentTime.value==(i<0?0:100)?i<0?.001:-.001:0;isNaN(t)&&(t=0),e.animation.currentTime=t+r}function st(e,t){if(!e.timeline)return;const n="paused"==e.proxy.playState&&e.proxy.pending;let i=!1,r=Je(e,e.proxy.currentTime);0==et(e)&&null==r&&(e.holdTime=0),null==r&&(e.autoAlignStartTime=!0),("finished"===e.proxy.playState||n)&&(e.holdTime=null,e.startTime=null,e.autoAlignStartTime=!0),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||e.autoAlignStartTime||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),ot(e),e.readyPromise||Qe(e),e.pendingTask="play",_e(e.timeline,e.animation,lt.bind(e.proxy)),it(e,!1,!1))}function lt(e){const t=ct.get(this);if(!t)return;if(null==e)return void("paused"!==t.proxy.playState&&"idle"!=t.animation.playState&&t.animation.cancel());mt(t),t.pendingTask&&requestAnimationFrame((()=>{"play"!==t.pendingTask||null===t.startTime&&null===t.holdTime?"pause"===t.pendingTask&&Ye(t):Xe(t)}));const n=this.playState;if("running"==n||"finished"==n){const n=Je(t,e);at(t,(n-Je(t,this.startTime))*this.playbackRate),it(t,!1,!1)}}function ut(e){e.specifiedTiming=null}let ct=new WeakMap;window.addEventListener("pagehide",(e=>{ct=new WeakMap}),!1);let ft=new WeakMap;function mt(e){if(!e.autoAlignStartTime)return;if(!e.timeline||!e.timeline.currentTime)return;if("idle"===e.proxy.playState||"paused"===e.proxy.playState&&null!==e.holdTime)return;const t=e.rangeDuration;let n,i;try{n=CSS.percent(100*function(e){if(!e.animationRange)return 0;const t="normal"===e.animationRange.start?pt(e.timeline):e.animationRange.start;return Oe(e.timeline,t)}(e))}catch(o){n=CSS.percent(0),e.animationRange.start="normal",console.warn("Exception when calculating start offset",o)}try{i=CSS.percent(100*(1-function(e){if(!e.animationRange)return 0;const t="normal"===e.animationRange.end?ht(e.timeline):e.animationRange.end;return 1-Oe(e.timeline,t)}(e)))}catch(o){i=CSS.percent(100),e.animationRange.end="normal",console.warn("Exception when calculating end offset",o)}e.rangeDuration=i.value-n.value;const r=et(e);e.startTime=Je(e,r>=0?n:i),e.holdTime=null,e.rangeDuration!==t&&ut(e)}function dt(e){throw new Error("Unsupported timeline class")}function pt(e){return e instanceof ViewTimeline?{rangeName:"cover",offset:CSS.percent(0)}:e instanceof ScrollTimeline?CSS.percent(0):void dt()}function ht(e){return e instanceof ViewTimeline?{rangeName:"cover",offset:CSS.percent(100)}:e instanceof ScrollTimeline?CSS.percent(100):void dt()}function St(e,t){if(!t)return{start:"normal",end:"normal"};const n={start:pt(e),end:ht(e)};if(e instanceof ViewTimeline){const e=B(t),i=[],r=[];if(e.forEach((e=>{if(Te.includes(e))i.push(e);else try{r.push(CSSNumericValue.parse(e))}catch(n){throw TypeError(`Could not parse range "${t}"`)}})),i.length>2||r.length>2||1==r.length)throw TypeError("Invalid time range or unsupported time range format.");return i.length&&(n.start.rangeName=i[0],n.end.rangeName=i.length>1?i[1]:i[0]),r.length>1&&(n.start.offset=r[0],n.end.offset=r[1]),n}if(e instanceof ScrollTimeline){const e=t.split(" ");if(2!=e.length)throw TypeError("Invalid time range or unsupported time range format.");return n.start=CSSNumericValue.parse(e[0]),n.end=CSSNumericValue.parse(e[1]),n}dt()}function gt(e,t,n){if(!t||"normal"===t)return"normal";if(e instanceof ViewTimeline){let e="cover",i="start"===n?CSS.percent(0):CSS.percent(100);if(t instanceof Object)void 0!==t.rangeName&&(e=t.rangeName),void 0!==t.offset&&(i=t.offset);else{const n=B(t);1===n.length?Te.includes(n[0])?e=n[0]:i=K(CSSNumericValue.parse(n[0]),{}):2===n.length&&(e=n[0],i=K(CSSNumericValue.parse(n[1]),{}))}if(!Te.includes(e))throw TypeError("Invalid range name");return{rangeName:e,offset:i}}if(e instanceof ScrollTimeline)return CSSNumericValue.parse(t);dt()}class vt{constructor(e,t,n={}){const i=t instanceof ScrollTimeline,r=e instanceof $e?e:new $e(e,i?void 0:t);ft.set(r,this),ct.set(this,{animation:r,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,rangeDuration:null,previousCurrentTime:null,autoAlignStartTime:!1,pendingPlaybackRate:null,pendingTask:null,specifiedTiming:null,normalizedTiming:null,effect:null,animationRange:i?St(t,n["animation-range"]):null,proxy:this})}get effect(){const e=ct.get(this);return e.timeline?(e.effect||(e.effect=function(e){const t=e.animation.effect,n=t.updateTiming,i={apply:function(n){t.getTiming();const i=n.apply(t);if(e.timeline){const t=e.duration??100;i.localTime=Ke(e,i.localTime),i.endTime=Ke(e,i.endTime),i.activeDuration=Ke(e,i.activeDuration);const n=rt(e),r=i.iterations?(n-i.delay-i.endDelay)/i.iterations:0;i.duration=n?CSS.percent(t*r/n):CSS.percent(0),void 0===e.timeline.currentTime&&(i.localTime=null)}return i}},r={apply:function(i,r){if(e.specifiedTiming)return e.specifiedTiming;e.specifiedTiming=i.apply(t);let o,a=Object.assign({},e.specifiedTiming);if(a.duration===1/0)throw TypeError("Effect duration cannot be Infinity when used with Scroll Timelines");return(null===a.duration||"auto"===a.duration||e.autoDurationEffect)&&e.timeline&&(e.autoDurationEffect=!0,a.delay=0,a.endDelay=0,o=a.iterations?1e5:0,a.duration=a.iterations?(o-a.delay-a.endDelay)/a.iterations:0,a.duration<0&&(a.duration=0,a.endDelay=o-a.delay),n.apply(t,[a])),e.normalizedTiming=a,e.specifiedTiming}},o={apply:function(n,i,r){if(r&&r.length){if(e.timeline&&r[0]){const t=r[0],n=t.duration;if(n===1/0)throw TypeError("Effect duration cannot be Infinity when used with Scroll Timelines");if(t.iterations===1/0)throw TypeError("Effect iterations cannot be Infinity when used with Scroll Timelines");void 0!==n&&"auto"!==n&&(e.autoDurationEffect=null)}e.specifiedTiming&&n.apply(t,[e.specifiedTiming]),n.apply(t,r),ut(e)}}},a=new Proxy(t,{get:function(e,n){const i=e[n];return"function"==typeof i?i.bind(t):i},set:function(e,t,n){return e[t]=n,!0}});return a.getComputedTiming=new Proxy(t.getComputedTiming,i),a.getTiming=new Proxy(t.getTiming,r),a.updateTiming=new Proxy(t.updateTiming,o),a}(e)),e.effect):e.animation.effect}set effect(e){const t=ct.get(this);t.animation.effect=e,t.effect=null,t.autoDurationEffect=null}get timeline(){const e=ct.get(this);return e.timeline||e.animation.timeline}set timeline(e){const t=ct.get(this),n=this.timeline;if(n==e)return;const i=this.playState,r=this.currentTime;let o,a=rt(t);o=null===r?null:0===a?0:Je(t,r)/a;const s=n instanceof ScrollTimeline,l=e instanceof ScrollTimeline,u=this.pending;if(s&&Ue(t.timeline,t.animation),l)return t.timeline=e,tt(t),t.autoAlignStartTime=!0,t.startTime=null,t.holdTime=null,"running"!==i&&"finished"!==i||(t.readyPromise&&"resolved"!==t.readyPromise.state||Qe(t),t.pendingTask="play",_e(t.timeline,t.animation,lt.bind(this))),"paused"===i&&null!==o&&(t.holdTime=o*a),u&&(t.readyPromise&&"resolved"!=t.readyPromise.state||Qe(t),t.pendingTask="paused"==i?"pause":"play"),null!==t.startTime&&(t.holdTime=null),void it(t,!1,!1);if(t.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(Ue(t.timeline,t.animation),t.timeline=null,s)switch(null!==r&&(t.animation.currentTime=o*rt(t)),i){case"paused":t.animation.pause();break;case"running":case"finished":t.animation.play()}}get startTime(){const e=ct.get(this);return e.timeline?Ke(e,e.startTime):e.animation.startTime}set startTime(e){const t=ct.get(this);if(e=Je(t,e),!t.timeline)return void(t.animation.startTime=e);t.autoAlignStartTime=!1;null==Je(t,t.timeline.currentTime)&&null!=t.startTime&&(t.holdTime=null,ot(t));const n=Je(t,this.currentTime);tt(t),t.startTime=e,null!==t.startTime&&0!=t.animation.playbackRate?t.holdTime=null:t.holdTime=n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),it(t,!0,!1),ot(t)}get currentTime(){const e=ct.get(this);return e.timeline?null!=e.holdTime?Ke(e,e.holdTime):Ke(e,nt(e)):e.animation.currentTime}set currentTime(e){const t=ct.get(this);t.timeline?(!function(e,t){if(null==t&&null!==e.currentTime)throw new TypeError;t=Je(e,t),e.autoAlignStartTime=!1,null!==e.holdTime||null===e.startTime||"inactive"===e.timeline.phase||0===e.animation.playbackRate?e.holdTime=t:e.startTime=Je(e,e.timeline.currentTime)-t/e.animation.playbackRate,"inactive"===e.timeline.phase&&(e.startTime=null),e.previousCurrentTime=null}(t,e),"pause"==t.pendingTask&&(t.holdTime=Je(t,e),tt(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),it(t,!0,!1)):t.animation.currentTime=e}get playbackRate(){return ct.get(this).animation.playbackRate}set playbackRate(e){const t=ct.get(this);if(!t.timeline)return void(t.animation.playbackRate=e);t.pendingPlaybackRate=null;const n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}get playState(){const e=ct.get(this);if(!e.timeline)return e.animation.playState;const t=Je(e,this.currentTime);if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=rt(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}get rangeStart(){var e;return(null==(e=ct.get(this).animationRange)?void 0:e.start)??"normal"}set rangeStart(e){const t=ct.get(this);if(!t.timeline)return t.animation.rangeStart=e;if(t.timeline instanceof ScrollTimeline){t.animationRange.start=gt(t.timeline,e,"start"),mt(t),ot(t)}}get rangeEnd(){var e;return(null==(e=ct.get(this).animationRange)?void 0:e.end)??"normal"}set rangeEnd(e){const t=ct.get(this);if(!t.timeline)return t.animation.rangeEnd=e;if(t.timeline instanceof ScrollTimeline){t.animationRange.end=gt(t.timeline,e,"end"),mt(t),ot(t)}}get replaceState(){return ct.get(this).animation.pending}get pending(){const e=ct.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}finish(){const e=ct.get(this);if(!e.timeline)return void e.animation.finish();const t=et(e),n=rt(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&n==1/0)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");tt(e);const i=t<0?0:n;this.currentTime=Ke(e,i);const r=Je(e,e.timeline.currentTime);null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),it(e,!0,!0)}play(){const e=ct.get(this);e.timeline?st(e):e.animation.play()}pause(){const e=ct.get(this);e.timeline?"paused"!=this.playState&&(null===e.animation.currentTime&&(e.autoAlignStartTime=!0),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||Qe(e),e.pendingTask="pause",_e(e.timeline,e.animation,lt.bind(e.proxy))):e.animation.pause()}reverse(){const e=ct.get(this),t=et(e),n=Je(e,this.currentTime),i=rt(e)==1/0,r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-et(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),st(e)}updatePlaybackRate(e){const t=ct.get(this);if(t.pendingPlaybackRate=e,!t.timeline)return void t.animation.updatePlaybackRate(e);const n=this.playState;if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(n){case"idle":case"paused":tt(t);break;case"finished":const n=Je(t,t.timeline.currentTime),i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,tt(t),it(t,!1,!1),ot(t);break;default:st(t)}}persist(){ct.get(this).animation.persist()}get id(){return ct.get(this).animation.id}set id(e){ct.get(this).animation.id=e}cancel(){const e=ct.get(this);e.timeline?("idle"!=this.playState&&(!function(e){e.pendingTask&&(e.pendingTask=null,tt(e),e.readyPromise.reject(Ge()),Qe(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(Ge()),e.finishedPromise=new Be,e.animation.cancel()),e.startTime=null,e.holdTime=null,Ue(e.timeline,e.animation)):e.animation.cancel()}get onfinish(){return ct.get(this).animation.onfinish}set onfinish(e){ct.get(this).animation.onfinish=e}get oncancel(){return ct.get(this).animation.oncancel}set oncancel(e){ct.get(this).animation.oncancel=e}get onremove(){return ct.get(this).animation.onremove}set onremove(e){ct.get(this).animation.onremove=e}get finished(){const e=ct.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new Be),e.finishedPromise.promise):e.animation.finished}get ready(){const e=ct.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new Be,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}addEventListener(e,t,n){ct.get(this).animation.addEventListener(e,t,n)}removeEventListener(e,t,n){ct.get(this).animation.removeEventListener(e,t,n)}dispatchEvent(e){ct.get(this).animation.dispatchEvent(e)}}function yt(e,t){const n=t.timeline;n instanceof ScrollTimeline&&delete t.timeline;const i=qe.apply(this,[e,t]),r=new vt(i,n);if(n instanceof ScrollTimeline){i.pause();ct.get(r).animationRange={start:gt(n,t.rangeStart,"start"),end:gt(n,t.rangeEnd,"end")},r.play()}return r}function Tt(e){for(let t=0;t<e.length;++t){let n=ft.get(e[t]);n&&(e[t]=n)}return e}function wt(e){return Tt(He.apply(this,[e]))}function Ct(e){return Tt(We.apply(this,[e]))}!function(){if(void 0!==window.ViewTimeline)return!0;if(!Reflect.defineProperty(window,"ScrollTimeline",{value:ScrollTimeline}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(window,"ViewTimeline",{value:De}))throw Error("Error installing ViewTimeline polyfill: could not attach ViewTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:yt}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:vt}))throw Error("Error installing Animation constructor.");if(!Reflect.defineProperty(Element.prototype,"getAnimations",{value:wt}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's getAnimations to DOM Element");if(!Reflect.defineProperty(document,"getAnimations",{value:Ct}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's getAnimations to document")}()}();
