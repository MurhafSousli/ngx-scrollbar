:host {
  // Clamped thumb size
  --_thumb-size-percent: var(--_fixed-thumb-size-percent, max(var(--_thumb-size-percent-raw), var(--_min-thumb-size-percent)));

  // Effective ratio based on visual thumb size
  --_effective-thumb-ratio: calc(var(--_thumb-size-percent) / 100);

  // Calculate thumb position
  --_scrollbar-thumb-transform-to-value: calc((100 / var(--_effective-thumb-ratio) - 100) * 1%);

  box-sizing: border-box;
  position: absolute;
  background: var(--_scrollbar-thumb-color);
  transition: var(--scrollbar-thumb-transition, none);

  // Inherit the border radius from the track
  border-radius: var(--scrollbar-thumb-shape, inherit);

  // Hint the browser to optimize the transform animation
  will-change: transform;

  animation-name: scrollbarThumbAnimation;
  animation-duration: 1ms; /* Firefox requires this to apply the animation */
  animation-timing-function: linear;

  &:hover {
    background: var(--_scrollbar-thumb-hover-color);
  }

  &:active {
    background: var(--_scrollbar-thumb-active-color);
  }
}

@keyframes scrollbarThumbAnimation {
  from {
    translate: var(--_scrollbar-thumb-transform-from);
  }
  to {
    translate: var(--_scrollbar-thumb-transform-to);
  }
}
